{
    "module": "Project",
    "name": "Site",
    "table": "project_site",
    "importTable": "EXP_PROJECT_SITE",
    "parentModel": "ProjectExpedition",
    "columns": {
        "id": {
            "name": "id",
            "importSource": "",
            "type": "integer",
            "size": 11,
            "required": false,
            "primaryKey": true,
            "autoInc": true,
            "label": "ID",
            "description": "auto incremented id",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "isLocked": null,
            "searchable": true
        },
        "expedition_id": {
            "name": "expedition_id",
            "importSource": "return function($aImportedRecord) {\n$cParentFilterValue = preg_replace(\"/_[^_]+$/\", \"\", $aImportedRecord[\"combined_id\"]); \nreturn \\app\\dis_migration\\Module::lookupValue(\"project_expedition\", \"id\", [\"expedition\" => $cParentFilterValue]);\n};",
            "type": "integer",
            "size": 11,
            "required": true,
            "primaryKey": false,
            "autoInc": false,
            "label": "Expedition ID",
            "description": "Parent ID in table project_expedition",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "isLocked": null,
            "searchable": true
        },
        "combined_id": {
            "name": "combined_id",
            "importSource": "LTRIM(CAST([EXPEDITION] AS varchar)) + '_' + LTRIM(CAST([SITE] AS varchar))",
            "type": "string",
            "size": "",
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Combined ID",
            "description": "Combined ID for the site",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "isLocked": null,
            "searchable": true
        },
        "site": {
            "name": "site",
            "importSource": "SITE",
            "type": "string",
            "size": 20,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Site",
            "description": "Site Code",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "isLocked": null,
            "searchable": true
        },
        "site_name": {
            "name": "site_name",
            "oldName": "name",
            "importSource": "",
            "type": "string",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Name of the Drill Site",
            "description": "Name of the (drill) site, for human use",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "isLocked": null,
            "searchable": true
        },
        "site_name_alt": {
            "name": "site_name_alt",
            "importSource": "",
            "type": "string",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Alternative Name/Code of Site",
            "description": "Alternative name of the drill site",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "isLocked": null,
            "searchable": true
        },
        "type_drilling_location": {
            "name": "type_drilling_location",
            "importSource": "",
            "type": "string",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Type of Drilling Location",
            "description": "Type of  the drill site/location (the surface of the site)",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "isLocked": null,
            "searchable": true
        },
        "description": {
            "name": "description",
            "importSource": "",
            "type": "string",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Description of the Site",
            "description": "Free text description of the site and its location",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "isLocked": null,
            "searchable": true
        },
        "city": {
            "name": "city",
            "importSource": "",
            "type": "string",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "City Nearby Site",
            "description": "Nearest city/town/village",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "isLocked": null,
            "searchable": true
        },
        "county": {
            "name": "county",
            "importSource": "",
            "type": "string",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "County of Site",
            "description": "County in which the drill site is located",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "isLocked": null,
            "searchable": true
        },
        "state": {
            "name": "state",
            "importSource": "",
            "type": "string",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "State",
            "description": "State of Site",
            "validator": "State in which the drill site is located",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "isLocked": null,
            "searchable": true
        },
        "country": {
            "name": "country",
            "importSource": "",
            "type": "string",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Country of Site",
            "description": "Country in which the drill site is located",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "isLocked": null,
            "searchable": true
        },
        "comment": {
            "name": "comment",
            "importSource": "",
            "type": "string",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Additional Information",
            "description": "Comment on the site",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "isLocked": null,
            "searchable": true
        },
        "lithology": {
            "name": "lithology",
            "importSource": "",
            "type": "string_multiple",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Lithology",
            "description": "Lithologies of Drilling Target",
            "validator": "Classification of the bedrock of the drilling target",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "isLocked": null,
            "searchable": true
        },
        "geological_age": {
            "name": "geological_age",
            "importSource": "",
            "type": "string_multiple",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Geological Age",
            "description": "Geological age of drilling target",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "isLocked": null,
            "searchable": true
        }
    },
    "indices": {
        "id": {
            "name": "id",
            "type": "PRIMARY",
            "columns": [
                "id"
            ],
            "isLocked": null
        },
        "expedition_id": {
            "name": "expedition_id",
            "type": "KEY",
            "columns": [
                "expedition_id"
            ],
            "isLocked": null
        },
        "expedition_id__site": {
            "name": "expedition_id__site",
            "type": "UNIQUE",
            "columns": [
                "expedition_id",
                "site"
            ],
            "isLocked": null
        }
    },
    "relations": {
        "project_site__project_expedition__parent": {
            "name": "project_site__project_expedition__parent",
            "foreignTable": "project_expedition",
            "localColumns": [
                "expedition_id"
            ],
            "foreignColumns": [
                "id"
            ],
            "isLocked": null
        }
    },
    "behaviors": [
        {
            "behaviorClass": "app\\behaviors\\template\\UniqueCombinationAutoIncrementBehavior",
            "parameters": {
                "searchFields": [
                    "expedition_id"
                ],
                "fieldToFill": "site",
                "useAlphabet": false
            }
        }
    ],
    "createdAt": 1583843094,
    "modifiedAt": 1636700855,
    "generatedAt": 1636700861,
    "fullName": "ProjectSite"
}
