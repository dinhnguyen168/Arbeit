{
    "module": "Curation",
    "name": "SampleRequest",
    "table": "curation_sample_request",
    "importTable": null,
    "parentModel": "ProjectExpedition",
    "columns": {
        "id": {
            "name": "id",
            "importSource": "",
            "type": "integer",
            "size": 11,
            "required": false,
            "primaryKey": true,
            "autoInc": true,
            "label": "ID",
            "description": "auto incremented ID",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": true
        },
        "expedition_id": {
            "name": "expedition_id",
            "importSource": "",
            "type": "integer",
            "size": 11,
            "required": true,
            "primaryKey": false,
            "autoInc": false,
            "label": "Expedition",
            "description": "Parent ID in table project_expedition",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": true
        },
        "request_no": {
            "name": "request_no",
            "importSource": "",
            "type": "integer",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Request Number",
            "description": "Incremental numbering of requests within an expedition/project",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": true
        },
        "request_part": {
            "name": "request_part",
            "importSource": "",
            "type": "string",
            "size": 10,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Request Part",
            "description": "Additional element for request ID (for example A, B, C or initials of scientist)",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": true
        },
        "project_phase": {
            "name": "project_phase",
            "importSource": "",
            "type": "string",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Project Phase",
            "description": "The phase in the project life cycle for which the sampling is requested",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": true
        },
        "destructive": {
            "name": "destructive",
            "importSource": "",
            "type": "boolean",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Destructive Analysis?",
            "description": "Will the sample(s) be subjected to destructive processes?",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": true
        },
        "sample_material": {
            "name": "sample_material",
            "importSource": "",
            "type": "string",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Sample Material Requested",
            "description": "The material type of the requested sample",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": true
        },
        "split_fraction_requested": {
            "name": "split_fraction_requested",
            "importSource": "",
            "type": "integer",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Requested Fraction of Split [%]",
            "description": "Requested fraction of the split section cross-sectional area [%]",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": true
        },
        "scientist_contact_persons": {
            "name": "scientist_contact_persons",
            "importSource": "",
            "type": "many_to_many",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Requesting Scientist",
            "description": "The scientists who requested the samples",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "full_name",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "contact_person",
            "searchable": true
        },
        "number_samples": {
            "name": "number_samples",
            "importSource": "",
            "type": "integer",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Number of Samples",
            "description": "The number of samples requested",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": true
        },
        "sample_size": {
            "name": "sample_size",
            "importSource": "",
            "type": "double",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Size of Sample",
            "description": "The size of the requested sample(s) in unit 'sample size unit'",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": true
        },
        "sample_size_unit": {
            "name": "sample_size_unit",
            "importSource": "",
            "type": "string",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Unit of Sample Size",
            "description": "The unit that is used for 'sample size'",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": true
        },
        "curator_contact_person_id": {
            "name": "curator_contact_person_id",
            "importSource": "",
            "type": "one_to_many",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Curator",
            "description": "The curator who has handled the sample request",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "person_acronym",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "contact_person",
            "searchable": true
        },
        "date_submission": {
            "name": "date_submission",
            "importSource": "",
            "type": "date",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Date of Submission",
            "description": "The date when the sample request was submitted",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": true
        },
        "date_approval": {
            "name": "date_approval",
            "importSource": "",
            "type": "date",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Date of Approval",
            "description": "The date when the sample request was approved",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": true
        },
        "date_completion": {
            "name": "date_completion",
            "importSource": "",
            "type": "date",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Request Completed",
            "description": "The date when sampling for this request was completed",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": true
        },
        "approved_by_contact_person_id": {
            "name": "approved_by_contact_person_id",
            "importSource": "",
            "type": "one_to_many",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Approved By",
            "description": "Person who has approved the sample request",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "full_name",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "contact_person",
            "searchable": true
        },
        "comment": {
            "name": "comment",
            "importSource": "",
            "type": "string",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Additional Information",
            "description": "Comment on the sample request",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": true
        },
        "comment_administration": {
            "name": "comment_administration",
            "importSource": "",
            "type": "string",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Additional Information",
            "description": "Comment on sample request administration",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": true
        },
        "exp_acronym": {
            "name": "exp_acronym",
            "importSource": "",
            "type": "pseudo",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Expedition Acronym",
            "description": "",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "$this->parent->exp_acronym",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": false
        },
        "hole_combined_id_project_holes": {
            "name": "hole_combined_id_project_holes",
            "importSource": "",
            "type": "many_to_many",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Boreholes to be Sampled",
            "description": "The combined IDs of the boreholes concerned by this request",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "combined_id",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "project_hole",
            "searchable": true
        },
        "purpose": {
            "name": "purpose",
            "importSource": "",
            "type": "string_multiple",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Purpose/Usage",
            "description": "Purpose of sampling/usage of the samples",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": true
        },
        "combined_id": {
            "name": "combined_id",
            "importSource": "",
            "type": "string",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Combined ID",
            "description": "Internally unique ID for the sample request",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": true
        },
        "request_name": {
            "name": "request_name",
            "importSource": "",
            "type": "pseudo",
            "size": null,
            "required": false,
            "primaryKey": false,
            "autoInc": false,
            "label": "Request Name",
            "description": "Name for human use",
            "validator": "",
            "validatorMessage": "",
            "unit": "",
            "selectListName": "",
            "calculate": "",
            "defaultValue": "",
            "pseudoCalc": "$this->id ? $this->combined_id . ' ' . $this->scientistContactPersonsNm[0]->full_name : ''",
            "displayColumn": "",
            "isLocked": null,
            "oppositionRelation": false,
            "relatedTable": "",
            "searchable": false
        }
    },
    "indices": {
        "pk_id": {
            "name": "pk_id",
            "type": "PRIMARY",
            "columns": [
                "id"
            ],
            "isLocked": null
        },
        "curator_contact_person_id": {
            "name": "curator_contact_person_id",
            "type": "KEY",
            "columns": [
                "curator_contact_person_id"
            ],
            "isLocked": true
        },
        "approved_by_contact_person_id": {
            "name": "approved_by_contact_person_id",
            "type": "KEY",
            "columns": [
                "approved_by_contact_person_id"
            ],
            "isLocked": true
        }
    },
    "relations": {
        "curation_sample_request__project_expedition__parent": {
            "name": "curation_sample_request__project_expedition__parent",
            "relationType": null,
            "relatedTable": null,
            "foreignTable": "project_expedition",
            "localColumns": [
                "expedition_id"
            ],
            "foreignColumns": [
                "id"
            ],
            "displayColumns": [],
            "isLocked": null,
            "oppositionRelation": false,
            "oppositeColumnName": ""
        },
        "curation_sample_request__contact_person__curator_contact_person_id__1n": {
            "name": "curation_sample_request__contact_person__curator_contact_person_id__1n",
            "relationType": "1n",
            "relatedTable": null,
            "foreignTable": "contact_person",
            "localColumns": [
                "curator_contact_person_id"
            ],
            "foreignColumns": [
                "id"
            ],
            "displayColumns": [
                "person_acronym"
            ],
            "isLocked": null,
            "oppositionRelation": false,
            "oppositeColumnName": ""
        },
        "curation_sample_request__contact_person__approved_by_contact_person_id__1n": {
            "name": "curation_sample_request__contact_person__approved_by_contact_person_id__1n",
            "relationType": "1n",
            "relatedTable": null,
            "foreignTable": "contact_person",
            "localColumns": [
                "approved_by_contact_person_id"
            ],
            "foreignColumns": [
                "id"
            ],
            "displayColumns": [
                "full_name"
            ],
            "isLocked": null,
            "oppositionRelation": false,
            "oppositeColumnName": ""
        },
        "curation_sample_request__contact_person__scientist_contact_persons__nm": {
            "name": "curation_sample_request__contact_person__scientist_contact_persons__nm",
            "relationType": "nm",
            "relatedTable": "contact_person",
            "foreignTable": null,
            "localColumns": [
                "scientist_contact_persons"
            ],
            "foreignColumns": null,
            "displayColumns": [
                "full_name"
            ],
            "isLocked": null,
            "oppositionRelation": false,
            "oppositeColumnName": "scientist_curation_sample_request"
        },
        "curation_sample_request__project_hole__hole_combined_id_project_holes__nm": {
            "name": "curation_sample_request__project_hole__hole_combined_id_project_holes__nm",
            "relationType": "nm",
            "relatedTable": "project_hole",
            "foreignTable": null,
            "localColumns": [
                "hole_combined_id_project_holes"
            ],
            "foreignColumns": null,
            "displayColumns": [
                "combined_id"
            ],
            "isLocked": null,
            "oppositionRelation": false,
            "oppositeColumnName": "hole_combined_id_curation_sample_requests"
        }
    },
    "behaviors": [
        {
            "behaviorClass": "app\\behaviors\\template\\UniqueCombinationAutoIncrementBehavior",
            "parameters": {
                "searchFields": [
                    "expedition_id"
                ],
                "fieldToFill": "request_no",
                "useAlphabet": false
            }
        }
    ],
    "createdAt": 1613740523,
    "modifiedAt": 1644404957,
    "generatedAt": 1644404960,
    "fullName": "CurationSampleRequest"
}